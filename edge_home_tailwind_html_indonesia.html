<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Homepage GG ‚Äî Custom New Tab</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind on-the-fly config
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            base: {
              50: '#0f1220',
              100: '#0b0e19',
              200: '#0a0c16',
            },
            neon: '#6EE7F9',
            acid: '#A78BFA',
          },
          boxShadow: {
            glow: '0 0 0 1px rgb(255 255 255 / 0.1), 0 0 40px -10px rgba(109, 40, 217, .7)'
          }
        }
      }
    }
  </script>
  <style>
    /* Smooth scroll & fonts */
    :root { color-scheme: dark; }
    html, body { height: 100%; }
    /* Blur overlay on top of background */
    .glass {
      backdrop-filter: blur(10px) saturate(130%);
      -webkit-backdrop-filter: blur(10px) saturate(130%);
      background: rgba(15, 18, 32, 0.55);
      border: 1px solid rgba(255,255,255,.08);
    }
    .scrollbar-hide::-webkit-scrollbar{display:none}
    .scrollbar-hide{-ms-overflow-style:none;scrollbar-width:none}
    select {
    appearance: auto; /* biarkan default browser */
    -webkit-appearance: auto;
    -moz-appearance: auto;
    background-color: white;
    color: black;
    border: 1px solid #ccc;
    padding: 4px 8px;
    font-size: 14px;
  }

  /* Opsional: hover */
  select:hover {
    border-color: #888;
  }

    @keyframes neonPulse {
    0%, 100% {
      text-shadow:
        0 0 5px #0ff,
        0 0 10px #0ff,
        0 0 15px #0ff;
      opacity: 0.9;
    }
    50% {
      text-shadow:
        0 0 2px #0ff,
        0 0 5px #0ff,
        0 0 8px #0ff;
      opacity: 0.7;
    }
  }
  .neon-text {
    color: #e0ffff;
    animation: neonPulse 2s ease-in-out infinite;
  }
    .normal-dropdown {
    appearance: auto;
    background-color: white;
    color: black;
    border: 1px solid #ccc;
    padding: 4px 8px;
    font-size: 14px;
  }
  </style>
</head>
<body class="bg-base-100 text-white selection:bg-acid/40">
  <!-- Background layer (image/video) -->
  <div id="bg-layer" class="fixed inset-0 -z-10">
    <img id="bg-image" class="w-full h-full object-cover hidden" alt="background" />
    <video id="bg-video" class="w-full h-full object-cover hidden" autoplay muted loop playsinline></video>
    <div class="absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/60"></div>
  </div>

  <!-- Top bar -->
  <header class="px-6 md:px-10 pt-6 flex items-center justify-between">
    <h1 class="text-4xl font-bold text-center neon-text">
      Homepage GG
    </h1>
    <div class="flex items-center gap-2 md:gap-4">
      <button id="settingsBtn" class="px-3 py-2 rounded-2xl glass hover:shadow-glow transition">Pengaturan</button>
    </div>
  </header>

<div class="flex justify-center mt-6">
  <div class="flex w-full max-w-md">
    <input 
      id="searchInput"
      type="text" 
      placeholder="Cari di Bing..."
      class="flex-grow px-4 py-2 rounded-l-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
    >
    <button 
      id="searchBtn"
      class="px-4 py-2 bg-white text-white rounded-r-xl hover:bg-acid transition"
    >
      üîç
    </button>
  </div>
</div>
  
  <!-- Main content -->
  <main class="px-6 md:px-10 pb-16">
    <!-- Greeting + Clock -->
    <section class="mt-8 grid grid-cols-1 lg:grid-cols-3 gap-6">
     <div class="glass rounded-3xl p-6 lg:col-span-2 flex flex-col items-center text-center">
  <div class="flex flex-col items-center gap-4">
    <div>
      <h1 class="text-2xl md:text-4xl font-semibold">
        Halo, <span id="username" class="text-acid"></span>
      </h1>
      <p class="mt-1 opacity-80 text-sm md:text-base">Semoga harimu produktif dan menyenangkan ‚ú®</p>
    </div>
    <div>
      <div class="text-4xl md:text-6xl font-bold leading-none" id="clock">--:--</div>
      <div class="mt-1 text-xs md:text-sm opacity-80">
        Zona waktu:
        <select id="tzSelect" class="bg-white border border-white/10 rounded-xl px-2 py-2 focus:outline-none normal-dropdown">
        </select>
      </div>
    </div>
  </div>
  <div class="mt-4 flex gap-3 flex-wrap justify-center">
    <button id="changeName" class="px-3 py-3 rounded-xl bg-white/10 hover:bg-white/20">Ubah nama</button>
    <button id="setLocalTZ" class="px-3 py-3 rounded-xl bg-white/10 hover:bg-white/20">Pakai zona waktu perangkat</button>
  </div>
</div>

      <!-- Weather -->
      <div class="glass rounded-3xl p-6">
        <div class="flex items-center justify-between">
          <h2 class="font-semibold">Cuaca Indonesia (Realtime)</h2>
          <button id="refreshWeather" title="Refresh" class="text-sm opacity-80 hover:opacity-100">‚Üª</button>
        </div>
        <div class="mt-3 flex gap-2">
          <input id="weatherCity" class="w-full bg-white/5 border border-white/10 rounded-xl px-3 py-2 focus:outline-none" placeholder="Cari kota (mis. Surabaya, Bandung)" />
          <button id="searchCityBtn" class="px-3 py-2 rounded-xl bg-acid/20 hover:bg-acid/30">Cari</button>
        </div>
        <div id="weatherNow" class="mt-4 text-sm opacity-90">Pilih kota untuk melihat cuaca.</div>
        <div id="forecast" class="mt-3 grid grid-cols-5 gap-2 text-center text-xs"></div>
      </div>
    </section>

    <!-- Shortcuts & News -->
    <section class="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Shortcuts -->
      <div class="glass rounded-3xl p-6 lg:col-span-2">
        <div class="flex items-center justify-between">
          <h2 class="font-semibold">Shortcut Favorit</h2>
          <div class="flex gap-2">
            <button id="addShortcut" class="px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20">Tambah</button>
            <button id="resetShortcuts" class="px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20">Reset</button>
          </div>
        </div>
        <p class="mt-2 text-sm opacity-80">Klik untuk membuka. Seret untuk mengurutkan. Disimpan otomatis (localStorage).</p>
        <div id="shortcutGrid" class="mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 gap-3 min-h-[100px]"></div>
      </div>

      <!-- News -->
      <div class="glass rounded-3xl p-6">
        <div class="flex items-center justify-between">
          <h2 class="font-semibold">Berita Terbaru üáÆüá©</h2>
          <button id="refreshNews" class="text-sm opacity-80 hover:opacity-100">‚Üª</button>
        </div>
        <p class="mt-2 text-sm opacity-80">Sumber: Kompas, Detik, Antara, CNN Indonesia (RSS).</p>
        <div id="newsList" class="mt-3 space-y-3 max-h-[380px] overflow-auto pr-1 scrollbar-hide">
          <div class="text-sm opacity-80">Memuat berita‚Ä¶</div>
        </div>
      </div>
    </section>

    <!-- AI Quick Access & Music -->
    <section class="mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- AI Access -->
<div class="glass rounded-3xl p-6 lg:col-span-2">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-lg font-semibold">Akses Cepat AI</h2>
    <div class="flex gap-2">
      <button id="addAIShortcut" class="px-3 py-1 rounded-lg bg-white/10 hover:bg-white/20">Tambah</button>
      <button id="resetAIShortcuts" class="px-3 py-1 rounded-lg bg-white/10 hover:bg-white/20">Reset</button>
    </div>
  </div>
  <div id="aiShortcutsContainer" class="grid grid-cols-4 gap-4"></div>
</div>


      <!-- Music Widget -->
<!-- Music Widget -->
<div class="glass rounded-3xl p-6">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-lg font-semibold">üéµ Pemutar Musik</h2>
  </div>
  
  <!-- Input Embed Code -->
  <textarea 
    id="musicEmbedCode" 
    placeholder="Tempel kode embed (iframe) di sini..." 
    class="w-full p-2 rounded-lg bg-white/10 mb-4 h-24"
  ></textarea>

  <!-- Tombol Tampilkan -->
  <button 
    id="playMusicBtn"
    class="w-full px-3 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white mb-4"
  >
    Tampilkan Player
  </button>

  <!-- Tempat Player -->
  <div id="musicPlayerContainer" class="rounded-xl overflow-hidden"></div>
</div>
    </section>
  </main>

  <!-- Settings Modal -->
  <dialog id="settingsModal" class="backdrop:bg-black/60 rounded-3xl p-0 w-11/12 max-w-3xl">
    <div class="glass rounded-3xl p-6">
      <div class="flex items-center justify-between">
        <h3 class="text-xl font-semibold">Pengaturan Tampilan</h3>
        <form method="dialog">
          <button class="px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20">Tutup</button>
        </form>
      </div>
      <div class="mt-4 grid md:grid-cols-2 gap-6">
        <div>
          <h4 class="font-medium">Latar Belakang</h4>
          <div class="mt-2 space-y-2">
            <label class="block text-sm opacity-80">Mode</label>
            <select id="bgMode" class="w-full bg-white border text-black border-white/10 rounded-xl px-3 py-2 focus:outline-none">
              <option value="image">Gambar</option>
              <option value="video">Video</option>
            </select>
            <label class="block text-sm opacity-80 mt-3">Pilih file lokal</label>
            <input id="bgFile" type="file" accept="image/*,video/*" class="w-full text-sm" />
            <label class="block text-sm opacity-80 mt-3">Atau URL</label>
            <input id="bgUrl" class="w-full bg-white/5 border border-white/10 rounded-xl px-3 py-2 focus:outline-none" placeholder="https://‚Ä¶ (gambar/video)" />
            <div class="flex gap-2 mt-2">
              <button id="applyBg" class="px-3 py-2 rounded-xl bg-acid/20 hover:bg-acid/30">Terapkan</button>
              <button id="resetBg" class="px-3 py-2 rounded-xl bg-white/10 hover:bg-white/20">Reset</button>
            </div>
            <p class="text-xs opacity-70 mt-2">Disimpan lokal (localStorage). Video akan diputar tanpa suara dan loop.</p>
          </div>
        </div>
        <div>
          <h4 class="font-medium">Preferensi</h4>
          <div class="mt-2 space-y-3">
            <label class="flex items-center gap-2 text-sm">
              <input id="denseMode" type="checkbox" class="accent-acid" /> Mode padat (lebih banyak konten)
            </label>
            <label class="flex items-center gap-2 text-sm">
              <input id="hideNews" type="checkbox" class="accent-acid" /> Sembunyikan berita
            </label>
            <label class="flex items-center gap-2 text-sm">
              <input id="hideWeather" type="checkbox" class="accent-acid" /> Sembunyikan cuaca
            </label>
          </div>
        </div>
      </div>
    </div>
  </dialog>

  <script>
    // ===== Utilities =====
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));
    const storage = {
      get: (k, d=null) => {
        try { return JSON.parse(localStorage.getItem(k)) ?? d; } catch { return d }
      },
      set: (k, v) => localStorage.setItem(k, JSON.stringify(v)),
      del: (k) => localStorage.removeItem(k),
    };

    // ===== Greeting / Name =====
function initName() {
    const usernameSpan = document.getElementById("username");
    let name = localStorage.getItem("username");

    if (!name) {
      name = prompt("Masukkan nama kamu:");
      if (name && name.trim() !== "") {
        localStorage.setItem("username", name.trim());
      } else {
        name = "Pengguna";
      }
    }
    usernameSpan.textContent = name;
  }

  document.getElementById("changeName").addEventListener("click", function () {
    const usernameSpan = document.getElementById("username");
    let newName = prompt("Masukkan nama baru:");
    if (newName && newName.trim() !== "") {
      localStorage.setItem("username", newName.trim());
      usernameSpan.textContent = newName.trim();
    }
  });

  // Panggil pas load halaman
  document.addEventListener("DOMContentLoaded", initName);

    // ===== Timezone & Clock =====
    function initTime() {
      const tzSel = $('#tzSelect');
      // Populate timezones (modern browsers)
      const tzList = (Intl.supportedValuesOf ? Intl.supportedValuesOf('timeZone') : ['Asia/Jakarta','Asia/Makassar','Asia/Jayapura','Asia/Singapore','Asia/Bangkok','UTC']);
      tzList.forEach(tz => {
        const opt = document.createElement('option');
        opt.value = tz; opt.textContent = tz; tzSel.appendChild(opt);
      });
      const savedTZ = storage.get('timezone') || Intl.DateTimeFormat().resolvedOptions().timeZone || 'Asia/Jakarta';
      tzSel.value = savedTZ;
      tzSel.onchange = () => storage.set('timezone', tzSel.value);
      $('#setLocalTZ').onclick = () => { tzSel.value = Intl.DateTimeFormat().resolvedOptions().timeZone; tzSel.onchange(); };

      function tick(){
        const now = new Date();
        const fmt = new Intl.DateTimeFormat('id-ID', {hour:'2-digit', minute:'2-digit', second:'2-digit', hour12:false, timeZone: tzSel.value});
        $('#clock').textContent = fmt.format(now);
        requestAnimationFrame(()=>setTimeout(tick, 200));
      }
      tick();
    }

    // ===== Shortcuts =====
    const defaultShortcuts = [
      { title: 'YouTube', url: 'https://www.youtube.com' },
      { title: 'Gmail', url: 'https://mail.google.com' },
      { title: 'GitHub', url: 'https://github.com' },
      { title: 'ChatGPT', url: 'https://chatgpt.com' },
      { title: 'Detik', url: 'https://www.detik.com' },
      { title: 'Kompas', url: 'https://www.kompas.com' },
    ];

    function renderShortcuts(){
      const grid = $('#shortcutGrid');
      const items = storage.get('shortcuts', defaultShortcuts);
      grid.innerHTML = '';
      items.forEach((it, idx) => {
        const a = document.createElement('a');
        a.href = it.url; a.target = '_blank';
        a.draggable = true; a.dataset.idx = idx;
        a.className = 'group block rounded-2xl p-4 bg-white/5 hover:bg-white/10 border border-white/10 transition';
        a.innerHTML = `<div class="text-xl">üîñ</div><div class="mt-1 font-medium group-hover:text-acid">${it.title}</div><div class="text-xs opacity-60 truncate">${it.url}</div>`;
        a.addEventListener('dragstart', (e)=>{
          e.dataTransfer.setData('text/plain', idx);
        });
        a.addEventListener('contextmenu', (e)=>{
          e.preventDefault();
          if (confirm(`Hapus shortcut \"${it.title}\"?`)){
            const arr = storage.get('shortcuts', defaultShortcuts);
            arr.splice(idx,1); storage.set('shortcuts', arr); renderShortcuts();
          }
        });
        grid.appendChild(a);
      });
      // Drop area
      grid.ondragover = (e)=>{ e.preventDefault(); }
      grid.ondrop = (e)=>{
        e.preventDefault();
        const from = +e.dataTransfer.getData('text/plain');
        let to = items.length-1;
        const target = e.target.closest('a');
        if (target) to = +target.dataset.idx;
        const arr = storage.get('shortcuts', defaultShortcuts);
        const [m] = arr.splice(from,1); arr.splice(to,0,m);
        storage.set('shortcuts', arr); renderShortcuts();
      }
    }

    function initShortcuts(){
      renderShortcuts();
      $('#addShortcut').onclick = () => {
        const title = prompt('Judul shortcut:');
        if (!title) return;
        const url = prompt('URL (contoh: https://site.com):');
        if (!url) return;
        const arr = storage.get('shortcuts', defaultShortcuts);
        arr.push({title, url}); storage.set('shortcuts', arr); renderShortcuts();
      };
      $('#resetShortcuts').onclick = () => {
        if (confirm('Kembalikan shortcut ke bawaan?')) { storage.set('shortcuts', defaultShortcuts); renderShortcuts(); }
      };
    }

    // ===== Weather (Open-Meteo, no key) =====
    async function geocodeCity(q){
      const url = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(q)}&language=id&count=5&format=json`;
      const res = await fetch(url); if (!res.ok) throw new Error('Gagal geocoding');
      const data = await res.json();
      return data.results?.[0];
    }

    async function loadWeather(place){
      if (!place) return;
      const { latitude:lat, longitude:lon, timezone, name, country } = place;
      const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weather_code,relative_humidity_2m,wind_speed_10m&hourly=temperature_2m&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=${encodeURIComponent(timezone)}`;
      const res = await fetch(url); if(!res.ok) throw new Error('Gagal ambil cuaca');
      const data = await res.json();
      const w = data.current;
      const code = w.weather_code;
      const emoji = weatherCodeToEmoji(code);
      $('#weatherNow').innerHTML = `<div class='text-lg font-medium'>${name}, ${country}</div>
        <div class='mt-1'>${emoji} ${w.temperature_2m}¬∞C ‚Ä¢ RH ${w.relative_humidity_2m}% ‚Ä¢ Angin ${w.wind_speed_10m} km/j</div>`;
      // forecast (5 hari)
      const f = data.daily;
      const days = f.time.slice(0,5);
      const fcHTML = days.map((d,i)=>{
        const c = f.weather_code[i];
        const e = weatherCodeToEmoji(c);
        return `<div class='glass rounded-2xl p-2'>
          <div class='text-[10px] opacity-70'>${d}</div>
          <div class='text-xl'>${e}</div>
          <div class='text-xs mt-1'>${Math.round(f.temperature_2m_min[i])}‚Äì${Math.round(f.temperature_2m_max[i])}¬∞C</div>
        </div>`;
      }).join('');
      $('#forecast').innerHTML = fcHTML;
      storage.set('weatherPlace', place);
    }

    function weatherCodeToEmoji(code){
      // Simplified mapping
      if ([0].includes(code)) return '‚òÄÔ∏è';
      if ([1,2,3].includes(code)) return '‚õÖ';
      if ([45,48].includes(code)) return 'üå´Ô∏è';
      if ([51,53,55,56,57].includes(code)) return 'üå¶Ô∏è';
      if ([61,63,65].includes(code)) return 'üåßÔ∏è';
      if ([66,67,71,73,75,77].includes(code)) return '‚ùÑÔ∏è';
      if ([80,81,82].includes(code)) return 'üåßÔ∏è';
      if ([95,96,99].includes(code)) return '‚õàÔ∏è';
      return 'üå°Ô∏è';
    }

    function initWeather(){
      const saved = storage.get('weatherPlace');
      if (saved) loadWeather(saved).catch(()=>{});
      $('#searchCityBtn').onclick = async ()=>{
        const q = $('#weatherCity').value.trim();
        if (!q) return;
        $('#weatherNow').textContent = 'Mencari‚Ä¶';
        try {
          const place = await geocodeCity(q);
          if (!place) { $('#weatherNow').textContent = 'Kota tidak ditemukan.'; return; }
          await loadWeather(place);
        } catch(e){ $('#weatherNow').textContent = 'Gagal memuat cuaca.'; }
      };
      $('#refreshWeather').onclick = async ()=>{
        const p = storage.get('weatherPlace'); if (p) loadWeather(p).catch(()=>{});
      }
    }

    // ===== News (RSS via rss2json.com public endpoint; may be rate-limited) =====
    const feeds = [
      'https://rss.kompas.com/',
      'https://news.detik.com/rss',
      'https://www.antaranews.com/rss/terkini.xml',
      'https://www.cnnindonesia.com/nasional/rss',
    ];

    async function fetchRSS(url){
      const api = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(url)}`;
      const r = await fetch(api);
      if (!r.ok) throw new Error('RSS gagal');
      return r.json();
    }

    async function loadNews(){
      const list = $('#newsList');
      list.innerHTML = `<div class='text-sm opacity-80'>Memuat berita‚Ä¶</div>`;
      try {
        const results = await Promise.allSettled(feeds.map(fetchRSS));
        const items = results.flatMap(res => res.status === 'fulfilled' ? res.value.items || [] : []);
        // sort by published date desc
        items.sort((a,b)=> new Date(b.pubDate) - new Date(a.pubDate));
        const top = items.slice(0,12);
        list.innerHTML = top.map(it=>{
          const site = new URL(it.link).hostname.replace('www.','');
          const date = new Date(it.pubDate).toLocaleString('id-ID');
          return `<a class='block p-3 rounded-2xl bg-white/5 hover:bg-white/10 transition border border-white/10' target='_blank' href='${it.link}'>
              <div class='text-sm font-medium'>${it.title}</div>
              <div class='text-[11px] opacity-70 mt-1'>${site} ‚Ä¢ ${date}</div>
            </a>`
        }).join('') || `<div class='text-sm opacity-80'>Tidak ada berita.</div>`;
      } catch(e){
        list.innerHTML = `<div class='text-sm opacity-80'>Gagal memuat berita. Coba refresh.</div>`;
      }
    }

    // ===== Settings / Background =====
    function applyBackground(state){
      const img = $('#bg-image');
      const vid = $('#bg-video');
      img.classList.add('hidden');
      vid.classList.add('hidden');
      if (!state) return;
      if (state.mode === 'video' && state.src){
        vid.src = state.src; vid.classList.remove('hidden');
      } else if (state.mode === 'image' && state.src){
        img.src = state.src; img.classList.remove('hidden');
      }
    }

    function initSettings(){
      const modal = $('#settingsModal');
      $('#settingsBtn').onclick = () => modal.showModal();
      const st = storage.get('bgState', {mode:'image', src:''});
      $('#bgMode').value = st.mode || 'image';
      $('#bgUrl').value = st.src || '';
      applyBackground(st);

      $('#applyBg').onclick = (e)=>{
        e.preventDefault();
        const mode = $('#bgMode').value;
        const url = $('#bgUrl').value.trim();
        const file = $('#bgFile').files?.[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = ()=>{
            const src = reader.result;
            const ns = {mode, src}; storage.set('bgState', ns); applyBackground(ns);
          };
          reader.readAsDataURL(file);
        } else if (url) {
          const ns = {mode, src:url}; storage.set('bgState', ns); applyBackground(ns);
        }
      };
      $('#resetBg').onclick = (e)=>{ e.preventDefault(); storage.del('bgState'); applyBackground(null); };

      // Preferences
      const dense = $('#denseMode'), hideNews = $('#hideNews'), hideWeather = $('#hideWeather');
      const pref = storage.get('prefs', {dense:false, hideNews:false, hideWeather:false});
      dense.checked = !!pref.dense; hideNews.checked = !!pref.hideNews; hideWeather.checked = !!pref.hideWeather;
      const applyPrefs = ()=>{
        document.body.classList.toggle('text-[15px]', dense.checked);
        document.querySelector('[data-news]')?.classList.toggle('hidden', hideNews.checked);
      };
      dense.onchange = hideNews.onchange = hideWeather.onchange = ()=>{
        const p = {dense: dense.checked, hideNews: hideNews.checked, hideWeather: hideWeather.checked};
        storage.set('prefs', p); location.reload();
      };
    }

    // ===== Music Tabs =====
document.addEventListener("DOMContentLoaded", function () {
  const btn = document.getElementById("playMusicBtn");
  const input = document.getElementById("musicEmbedCode");
  const container = document.getElementById("musicPlayerContainer");

  btn.addEventListener("click", function () {
    const code = input.value.trim();
    if (!code) {
      alert("Masukkan kode embed terlebih dahulu!");
      return;
    }
    container.innerHTML = code;
  });
});

    // ===== News & Weather refresh buttons =====
    $('#refreshNews')?.addEventListener('click', loadNews);

     function searchBing() {
    const query = document.getElementById("searchInput").value.trim();
    if (query !== "") {
      window.location.href = "https://www.bing.com/search?q=" + encodeURIComponent(query);
    }
  }

  document.getElementById("searchBtn").addEventListener("click", searchBing);
  document.getElementById("searchInput").addEventListener("keydown", function (event) {
    if (event.key === "Enter") {
      searchBing();
    }
  });

const defaultAIShortcuts = [
  { title: 'ChatGPT', url: 'https://chat.openai.com' },
  { title: 'Claude', url: 'https://claude.ai' }
];

// Load from localStorage
function getAIShortcuts() {
  return JSON.parse(localStorage.getItem('aiShortcuts')) || defaultAIShortcuts;
}

// Save to localStorage
function setAIShortcuts(shortcuts) {
  localStorage.setItem('aiShortcuts', JSON.stringify(shortcuts));
}

// Render shortcuts
function renderAIShortcuts() {
  const container = document.getElementById('aiShortcutsContainer');
  container.innerHTML = '';
  const shortcuts = getAIShortcuts();
  shortcuts.forEach(sc => {
    const div = document.createElement('div');
    div.className = 'bg-white/10 hover:bg-white/20 rounded-xl p-4 flex flex-col items-center justify-center text-center cursor-pointer';
    div.innerHTML = `<div class="text-4xl mb-2">ü§ñ</div><div class="text-sm font-medium">${sc.title}</div>`;
    div.onclick = () => window.open(sc.url, '_blank');
    container.appendChild(div);
  });
}

// Init
renderAIShortcuts();

// Add new shortcut
document.getElementById('addAIShortcut').onclick = () => {
  const title = prompt('Judul shortcut:');
  if (!title) return;
  const url = prompt('URL (contoh: https://site.com):');
  if (!url) return;
  const arr = getAIShortcuts();
  arr.push({ title, url });
  setAIShortcuts(arr);
  renderAIShortcuts();
};

// Reset shortcuts
document.getElementById('resetAIShortcuts').onclick = () => {
  if (confirm('Kembalikan shortcut ke bawaan?')) {
    setAIShortcuts(defaultAIShortcuts);
    renderAIShortcuts();
  }
};

    // ===== Init all =====
    initName();
    initTime();
    initShortcuts();
    initWeather();
    initSettings();
    loadNews();
  </script>
</body>
</html>
